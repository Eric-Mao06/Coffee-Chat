(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[616],{7805:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/signup",function(){return n(2971)}])},4820:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var a=n(5893),o=n(1664),r=n.n(o),s=n(8871),l=n(7245);function i(e){let{children:t}=e,{user:n,signOut:o}=(0,s.a)();return(0,a.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,a.jsx)("header",{className:"p-4",children:(0,a.jsx)("nav",{className:"container mx-auto flex justify-end items-center",children:n?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("span",{className:"mr-4",children:["Welcome, ",n.email]}),(0,a.jsx)(l.z,{onClick:o,variant:"destructive",children:"Log Out"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.z,{variant:"ghost",asChild:!0,className:"mr-2",children:(0,a.jsx)(r(),{href:"/login",children:"Login"})}),(0,a.jsx)(l.z,{asChild:!0,children:(0,a.jsx)(r(),{href:"/signup",children:"Sign Up"})})]})})}),(0,a.jsx)("main",{className:"flex-grow",children:t})]})}},7245:function(e,t,n){"use strict";n.d(t,{z:function(){return d}});var a=n(5893),o=n(7294),r=n(1465),s=n(5139),l=n(8997);let i=(0,s.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",tryAsking:"bg-blue-50 text-blue-700 hover:bg-blue-100 border border-blue-200 flex items-center justify-between"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-full px-3 text-xs",xs:"h-7 rounded-full px-2 text-xs",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=o.forwardRef((e,t)=>{let{className:n,variant:o,size:s,asChild:d=!1,...c}=e,u=d?r.g7:"button";return(0,a.jsx)(u,{className:(0,l.cn)(i({variant:o,size:s,className:n})),ref:t,...c})});d.displayName="Button"},8997:function(e,t,n){"use strict";n.d(t,{cn:function(){return r}});var a=n(512),o=n(8388);function r(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,o.m6)((0,a.W)(t))}},2971:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var a=n(5893),o=n(7294),r=n(1163),s=n(4820),l=n(2672);function i(){let[e,t]=(0,o.useState)(""),[n,i]=(0,o.useState)(""),[d,c]=(0,o.useState)(""),[u,m]=(0,o.useState)(""),[h,p]=(0,o.useState)(""),[x,b]=(0,o.useState)(""),[f,g]=(0,o.useState)(""),[y,v]=(0,o.useState)(""),[j,w]=(0,o.useState)(""),[N,C]=(0,o.useState)(""),[k,S]=(0,o.useState)(null),_=(0,r.useRouter)(),F=async t=>{t.preventDefault();try{var a,o,r;let{data:t,error:s}=await l.O.auth.signUp({email:e,password:n});if(s)throw s;y.split(",").map(e=>e.trim()).join(", ");let{data:i,error:c}=await l.O.from("alumni_profiles").insert([{user_id:null===(a=t.user)||void 0===a?void 0:a.id,name:d,role:u,company:h,location:x,projects:f.split(",").map(e=>e.trim()),interests:y.split(",").map(e=>e.trim()),hobbies:j.split(",").map(e=>e.trim()),contact_info:N}]);if(c)throw c;let m={id:null!==(r=null===(o=t.user)||void 0===o?void 0:o.id)&&void 0!==r?r:"",name:d,role:u,company:h,location:x,projects:f.split(","),interests:y.split(","),hobbies:j.split(","),contact_info:N};await P(m),_.push("/login")}catch(e){console.error("Signup error:",e),S(e instanceof Error?e.message:"An unexpected error occurred during signup")}},P=async e=>{try{let t=await fetch("/api/generate-embedding",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:"".concat(e.name,": ").concat(e.role," at ").concat(e.company,". Interests: ").concat(e.interests.join(", "))})}),{embedding:n}=await t.json();if(!(await fetch("/api/add-to-pinecone",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e.id,embedding:n,metadata:{name:e.name,role:e.role,company:e.company}})})).ok)throw Error("Failed to add profile to Pinecone")}catch(e){console.error("Error adding profile to Pinecone:",e)}};return(0,a.jsx)(s.Z,{children:(0,a.jsx)("div",{className:"flex justify-center items-center min-h-screen",children:(0,a.jsxs)("form",{onSubmit:F,className:"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4 w-full max-w-md",children:[(0,a.jsx)("h2",{className:"text-2xl mb-4",children:"Sign Up"}),k&&(0,a.jsx)("p",{className:"text-red-500 mb-4",children:k}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"email",children:"Email"}),(0,a.jsx)("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"email",type:"email",placeholder:"Email",value:e,onChange:e=>t(e.target.value),required:!0})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"password",children:"Password"}),(0,a.jsx)("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline",id:"password",type:"password",placeholder:"******************",value:n,onChange:e=>i(e.target.value),required:!0})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"name",children:"Full Name"}),(0,a.jsx)("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"name",type:"text",placeholder:"Full Name",value:d,onChange:e=>c(e.target.value),required:!0})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"role",children:"Role"}),(0,a.jsx)("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"role",type:"text",placeholder:"Current Role",value:u,onChange:e=>m(e.target.value),required:!0})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"company",children:"Company"}),(0,a.jsx)("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"company",type:"text",placeholder:"Current Company",value:h,onChange:e=>p(e.target.value),required:!0})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"location",children:"Location"}),(0,a.jsx)("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"location",type:"text",placeholder:"City, Country",value:x,onChange:e=>b(e.target.value),required:!0})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"projects",children:"Projects"}),(0,a.jsx)("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"projects",type:"text",placeholder:"Project1, Project2, Project3",value:f,onChange:e=>g(e.target.value),required:!0})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"interests",children:"Interests"}),(0,a.jsx)("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"interests",type:"text",placeholder:"Interest1, Interest2, Interest3",value:y,onChange:e=>v(e.target.value),required:!0})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"hobbies",children:"Hobbies"}),(0,a.jsx)("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"hobbies",type:"text",placeholder:"Hobby1, Hobby2, Hobby3",value:j,onChange:e=>w(e.target.value),required:!0})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"contact_info",children:"Contact Information"}),(0,a.jsx)("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"contact_info",type:"text",placeholder:"Contact Information",value:N,onChange:e=>C(e.target.value)})]}),(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsx)("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",type:"submit",children:"Sign Up"})})]})})})}}},function(e){e.O(0,[13,888,774,179],function(){return e(e.s=7805)}),_N_E=e.O()}]);